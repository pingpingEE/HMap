<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>周边搜索(自定义圆)</title>
  <script src="../dist/HMap.js"></script>
  <link rel="stylesheet" href="../node_modules/openlayers/css/ol.css"/>
</head>
<body>
<div id="map"></div>

<script type="text/javascript">
  //疑问：feature 和ovarlay定位的中心点貌似不同
  var map = new HMap.Map();
  map.initMap('map', {
    view: {
      center: [0, 0],
      zoom: 3, // resolution
      projection: "EPSG:4326"    //j20(3857)  4490
    }
  });
  map._addScaleLine();
  map.map.once("click", function (evt) {
    addCi(evt.coordinate);
  })
  var custom = null;
  function addCi(coordinate) {
    var center = coordinate;
    var distance = 2000000;
    var callback = function (geometry, center, radius) {
      //console.info(center)
    }
    var options = {
      center: center,
      distance: distance,
      successCallback: callback
    };
    var customCircle = new HMap.CustomCircle(map.map, options);
    custom = customCircle;
    customCircle.addCustomCircle();

  }

</script>
</body>
</html>